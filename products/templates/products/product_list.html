{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="products-page-container">

    <div class="page-header">
        <h1>Our Products</h1>
        <p>Choose the best resources for your DevOps journey</p>
    </div>

    <div class="filter-tabs">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="notes">Notes</button>
        <button class="filter-btn" data-filter="courses">Courses</button>
        <button class="filter-btn" data-filter="templates">Templates</button>
        <button class="filter-btn" data-filter="tools">Tools</button>
    </div>

    <div class="products-grid">
        {% if products %}
        {% for product in products %}
        <div class="product-card" data-category="{{ product.category|lower }}"
            data-new="{% if product.is_new %}1{% else %}0{% endif %}">


            <div class="card-img-container">
                {% if product.image %}
                <img src="{{ product.image.url }}" alt="{{ product.title }}" class="card-thumbnail">
                {% else %}
                <img src="{% static 'images/no-file-img.png' %}" alt="No Image" style="width:120px;opacity:0.5;">
                {% endif %}
            </div>

            <div class="card-body">
                <h3 class="product-title">
                    {{ product.title }}
                    {% if product.is_new %}
                    <span class="badge-new">New</span>
                    {% endif %}
                </h3>

                <p class="product-desc">
                    {{ product.description|truncatechars:80 }}
                </p>

                <div class="price-row">
                    <span class="price-tag">â‚¹{{ product.price }}</span>

                    <a class="btn-secondary" href="{% url 'products:product_detail' product.pk %}">
                        View Details
                    </a>


                </div>
            </div>
        </div>
        {% endfor %}

        <div id="js-no-data" class="no-data-msg" style="display:none;grid-column:1/-1;text-align:center;">
            <img src="{% static 'images/no-data.png' %}" style="width:120px;opacity:0.5;">
            <h3>No Products Found in this Category!</h3>
        </div>

        {% else %}
        <div class="no-data-msg" style="grid-column:1/-1;text-align:center;padding:50px;">
            <img src="{% static 'images/no-data.png' %}" style="width:150px;opacity:0.5;">
            <h3>No Products Found!</h3>
        </div>
        {% endif %}
    </div>
</div>
<script src="{% static 'products/js/filter.js' %}"></script>
{% endblock %}